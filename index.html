<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Prospect 3 — نسخه پایدار</title>
  <style>
    body { background:#0b1220; color:#eaf3ff; font-family:tahoma; margin:0; }
    .topbar { background:#111a2f; padding:10px; display:flex; justify-content:space-between; align-items:center; }
    .btn { padding:8px 12px; border:none; border-radius:8px; cursor:pointer; font-weight:bold; }
    .btn--primary { background:#13d38b; color:#06233a; }
    .btn--outline { background:transparent; border:1px solid #2a4068; color:#eaf3ff; }
    .container { padding:20px; max-width:900px; margin:auto; }
    .card { background:#121a2d; padding:16px; border-radius:12px; border:1px solid #2a4068; }
    .grid { display:grid; gap:10px; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); margin-top:10px; }
    .pill { background:#16274b; padding:12px; border-radius:10px; text-align:center; cursor:pointer; }
    .hidden { display:none !important; }
    .modal { position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:1000; }
    .modal-content { background:#0f1a32; padding:20px; border-radius:12px; width:90%; max-width:600px; }
    .modal-actions { margin-top:10px; text-align:right; }
    .page { background:#121a2d; padding:16px; border-radius:10px; margin-top:20px; }
  </style>
</head>
<body>

  <!-- نوار بالا -->
  <div class="topbar">
    <div>Prospect 3 — نسخه پایدار</div>
    <div>
      <button class="btn btn--outline" onclick="showModal('helpModal')">راهنما</button>
      <button class="btn btn--primary" onclick="showModal('verbsModal')">افعال بی‌قاعده</button>
    </div>
  </div>

  <!-- صفحه شروع -->
  <div class="container" id="startScreen">
    <div class="card">
      <h2>انتخاب درس</h2>
      <div class="grid">
        <div class="pill" onclick="loadLesson(1)">Lesson 1 — Personality</div>
        <div class="pill" onclick="loadLesson(2)">Lesson 2 — Travel</div>
        <div class="pill" onclick="loadLesson(3)">Lesson 3 — Festivals</div>
      </div>
    </div>
  </div>

  <!-- صفحه درس -->
  <div class="container hidden" id="lessonScreen">
    <h2 id="lessonTitle"></h2>
    <div id="pages"></div>
    <button class="btn btn--outline" onclick="goBack()">بازگشت</button>
  </div>

  <!-- مودال راهنما -->
  <div class="modal hidden" id="helpModal">
    <div class="modal-content">
      <h3>راهنما</h3>
      <p>برای انتخاب درس، روی یکی از گزینه‌ها کلیک کنید. برای بازگشت، دکمه «بازگشت» را بزنید.</p>
      <div class="modal-actions">
        <button class="btn btn--outline" type="button" onclick="closeModal('helpModal')">بستن</button>
      </div>
    </div>
  </div>

  <!-- مودال افعال بی‌قاعده -->
  <div class="modal hidden" id="verbsModal">
    <div class="modal-content">
      <h3>افعال بی‌قاعده</h3>
      <ul>
        <li>be → was/were</li>
        <li>go → went</li>
        <li>break → broke</li>
        <li>buy → bought</li>
      </ul>
      <div class="modal-actions">
        <button class="btn btn--outline" type="button" onclick="closeModal('verbsModal')">بستن</button>
      </div>
    </div>
  </div>

  <script>
    const lessons = {
      1: { title:"Lesson 1 — Personality", content:[
        "Ehsan: Who is your best friend at school?",
        "Parham: Reza.",
        "Ehsan: What's he like?",
        "Parham: He is clever and kind."
      ]},
      2: { title:"Lesson 2 — Travel", content:[
        "Receptionist: Welcome to our hotel. Do you have a reservation?",
        "Tourist: Yes, my name is Paul."
      ]},
      3: { title:"Lesson 3 — Festivals", content:[
        "Elham: We usually visit our relatives in Norooz.",
        "Nasrin: We get gifts, too!"
      ]}
    };

    function loadLesson(id){
      const lesson = lessons[id];
      document.getElementById("startScreen").classList.add("hidden");
      document.getElementById("lessonScreen").classList.remove("hidden");
      document.getElementById("lessonTitle").textContent = lesson.title;
      const pages = document.getElementById("pages");
      pages.innerHTML = "";
      lesson.content.forEach(line=>{
        const div=document.createElement("div");
        div.className="page";
        div.textContent=line;
        pages.appendChild(div);
      });
    }

    function goBack(){
      document.getElementById("lessonScreen").classList.add("hidden");
      document.getElementById("startScreen").classList.remove("hidden");
    }

    function showModal(id){
      document.getElementById(id).classList.remove("hidden");
    }

    function closeModal(id){
      document.getElementById(id).classList.add("hidden");
    }
  </script>

</body>
</html>
